(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();console.log("main.js loaded");var r={status:"not connected",blversion:"---",hwid:"---",fwid:"---",fwname:"---",fwversion:"---"};window.updateDeviceStatus=()=>{document.getElementById("dev_status").innerText=r.status,document.getElementById("dev_blversion").innerText=r.blversion,document.getElementById("dev_hwid").innerText=r.hwid,document.getElementById("dev_fwid").innerText=r.fwid,document.getElementById("dev_fwname").innerText=r.fwname,document.getElementById("dev_fwversion").innerText=r.fwversion};function l(){const o=document.getElementById("changelog");o.showModal(),document.getElementById("closeChangelog").onclick=()=>{o.close()}}window.connect=()=>{navigator.usb.requestDevice({filters:[]}).then(o=>{console.log(o)})};window.showChangelog=l;const c=document.getElementById("cfgfile");c.addEventListener("change",()=>{var o=c.files[0];console.log(o),document.getElementById("fw_filename").innerText=o.name,o.text().then(i=>{var n=JSON.parse(i);console.log(n),document.getElementById("fw_fwname").innerText=n.fwname,document.getElementById("fw_fwid").innerText="0x"+n.fwid,document.getElementById("fw_hwid").innerText="0x"+n.hwid,document.getElementById("fw_fwversion").innerText=n.version[1]+"."+n.version[2]+"."+n.version[3],document.getElementById("log").append(n.fwname+" "+n.version[1]+"."+n.version[2]+"."+n.version[3])})});
